### 주제 :  #1과목 #2장

___

### 내용 : 

>[!note] 1절 성능 데이터 모델링의 개요
>
>> 성능 데이터 모델링의 설명
>
> 1. 데이터의 증가가 빠를수록 성능저하에 따른 성능개선비용은 증가한다
> 2. 데이터모델은 성능을 튜닝 하면서 변경이 될 수 있는 특징이 있다
> 3. 분석/설계 단계에서 성능을 고려한 데이터모델링을 수행할 경우 성능저하에 따른 Rework 비용을 최소화 할 수 있는 기회를 가지게 된다
> 
>> 성능을 고려한 데이터 모델링의 순서
>
> 1. ==정규화==를 정확하게 수행
> 2. 데이터베이스 ==용량산정==을 수행
> 3. 데이터베이스에 발생되는 ==트랜잭션의 유형==을 파악
> 4. 용량과 트랜잭션의 유형에 따라 ==<span style="color: red">반정규화</span>==를 수행
> 5. 이력모델의 ==조정==, PK/FK==조정==, 슈퍼타입/서브타입 ==조정== 등을 수행
> 6. 성능관점에서 데이터모델을 ==검증==
> 
>> 성능데이터 모델링의 고려사항
>
> - 정규화 : 중복된 데이터를 제거함으로써 조회성능을 검증하는 방법으로 전개
> - 용량산정 : 전체적인 데이터베이스에 발생되는 트랜잭션의 유형과 양을 분석하는 자료가 되므로 성능데이터 모델링을 할 때 중요한 작업이 될 수 있다
> - 물리적인 데이터 모델링 : PK/FK의 칼럼의 순서조정, FK인덱스 생성 등은 성능 향상을 위한 데이터 모델링 작업에 중요한 요소가 된다
> - 이력데이터 : 시간에 따라 반복적으로 발생이 되기 때문에 대량 데이터일 가능성이 높아 특별히 성능을 고려하여 칼럼 등을 추가하도록 설계해야 한다

>[!note] 2절 정규화와 성능
>
>> 1, 아래 같은 동일한 유형의 속성이 칼럼단위로 반복되는 경우 해결방안
>
> 모델 {<u>모델코드</u>, 모델명, 제품류코드, 물품가, 출하가, 바코드, ... , ==A기능, B기능, C기능==}
> 
> ```
> 1차 정규화를 수행한 후 인덱스를 적용한다 (입력, 수정, 삭제 때 성능 향상을 위해)
> ```
> 
>> 2, 해결방안을 제시하시오
> 
> 일재고 {<u>물류센터코드</u>, <u>재고일자</u>, 월초재고수량, ==장기재고1개월, 장기재고3개월==}
> 
> ```
> 1차 정규화 (원자값이 아닌 도메인 분해)가 필요함
> ```
>
>> 3, 해당 정규형과 정규화 대상으로 짝지어 보시오
>
> 수강지도 {<u>학번</u>, <u>과목코드</u>, 성적, 지도교수명, 학과명}
>  
> 함수종속성 (FD) : 
> 1. {학번 || 과목번호} → {성적}
> 2. {학번} → {지도교수}
> 3. {학번} → {학과명}
>    
> ```
> 1차 정규형 - 2차 정규화 대상
> ```
> 
>> 4, 몇 차 정규화가 필요한가요?
>
보관금원장 {<u>관서번호</u>, <u>납부자번호</u>, 관리점번호, 관서명, 상태, 관서등록일지, 직급명, 통신번호}
> 
> 함수종속성 (FD) : 
> - {관서번호, 납부자번호} → {직급명, 통신번호}
> - {관서번호} → {관리점번호, 관서명, 상태, 관서등록일지}
>   
> ```
> 2차 정규화 (부분함수 종속 제거, 완전 함수 종속)
> 
> - 보금관원장 {<u>관서번호</u>, <u>납부자번호</u>, 직급명, 통신번호}
> - 정규화테이블 {<u>관서번호</u>, 관리점번호, 관서명, 상태, 관서등록일자}
> ```
> 
>> 5, 몇 차 정규화가 필요한가요?
> 
> 일자별매각물건 {<u>매각물건번호</u>, <u>매각일자</u>, 매각시간, 매각장소, 최저매각가격, 물건상태코드}
> 
> 함수종속성 (FD) : 
> - {매각물건번호, 매각일자} → {최저매각가격, 물건상태코드}
> - {매각일자} → {매각시간, 매각장소}
> 
> ```
> 2차 정규화 (부분함수 종속 제거, 완전 함수 종속)
> 
> - 일자별매각물건 {<u>매각물건번호</u>, <u>매각일자</u>, 최저매각가격, 물건상태코드}
> - 매각기일 {<u>매각일자</u>, 매각시간, 매각장소}
> ```

>[!note] 3절 반정규화와 성능
>
>> 반정규화를 고려할 때 판단요소
>
> - 반정규화 정보에 대한 재현의 적시성으로 판단
> - ex. 빌딩의 잔액은 다수 테이블에 대한 다량의 조인이 불가피하므로 데이터 제공의 직시성 확보를 위한 필수 반정규화 대상 정보이다
>
>> 디스크 I/O를 줄이기 위한 반정규화 기법
>
> - 테이블추가 – 부분테이블추가
>
>> 테이블의 반 정규화
> 
> | 기법분류 | 반정규화 기법 |
> | - | :-: |
> | 테이블병합| 1:1 관계 테이블병합|
> | | 1:M 관계 테이블변합
> | | 슈퍼/서브타입 테이블병합
> | 테이블분할 | 수직분할
> | | 수평분할 
> | 테이블추가 |중복테이블 추가
> | | 통계테이블 추가 
> | | 이력테이블 추가 
> | | 부분테이블 추가 
>
>> 칼럼의 반정규화
> 
> | 반정규화기법 |- |
> | - | - |
> | 중복칼럼 추가 | 조인감소를 위해 여러 테이블에 동일한 칼럼을 갖는다
> | 파생칼럼 추가 | 조회 성능을 우수하게 하기 위해 미리 계산된 칼럼을 갖는다
> | 이력테이블 칼럼 추가 | 최신값을 처리하는 이력의 특성을 고려하여 기능성 칼럼 추가
> | PK에 의한 칼럼 추가 |
> | 응용시스템 오작동을 위한 칼럼 추가|

>[!note] 4절 대량 데이터에 따른 성능
>

>[!note] 5절 데이터베이스 구조와 성능
>
>> 칼럼수가 많은 테이블에 대한 설명
>
> 1. 로우체이닝이 발생할 정도로 한 테이블에 많은 칼럼들이 존재할 경우 조회성능저하가 발생할 수 있다
> 2. 트랜잭션이 접근하는 칼럼유형을 분석하여 1:1로 테이블을 분리하면 디스크 I/O가 줄어들어 조회 성능을 향상 시킬 수 있다
>
>> 데이터 액세스 성능을 향상시키기 위한 방법
>
> 1. 하나의 테이블에 많은 양의 데이터가 저장되면 인덱스를 추가하고 테이블을 몇 개로 쪼개도 성능이 저하되는 경우가 있다
> 2. 이때 논리적으로 하나의 테이블이지만 물리적으로는 여러 개의 테이블로 분리하여 데이터 액세스 성능도 향상시키고, 데이터 관리방법도 개선할 수 있도록 테이블에 적용하는 기법을 <span style="color: red">파티셔닝</span>이라고 한다
>
>> 논리데이터모델 > 물리적인 테이블 형식으로 변환 (트랜잭션)
>
> 1. 항상 전체를 대상으로 일괄 처리하는데 테이블은 서브타입 별로 개별 유지하는 것으로 변환하면 Union 연산에 의해 성능이 저하 될 수 있다
> 2. 항상 서브타입 개별로 처리하는데 테이블은 하나로 통합하여 변환하면 불필요하게 많은 양의 데이터가 집적되어 있어 성능이 저하될 수 있다
> 3. 항상 슈퍼+서브 타입을 함께 처리하는데 개별로 유지 하면 조인에 의해 성능이 저하될 수 있다.
>
>> SQL 참조성능
>
>'='로 들어온 조건에 해당하는 칼럼이 인덱스의 가장 앞쪽에 위치할 때 인덱스의 이용 효율성이 가장 높다


>[!note] 6절 분산 데이터베이스와 성능
>
>> 분산 데이터베이스의 분산설계를 하여 효율성을 증대
>
> 1. 공통코드, 기준정보 등 마스터 데이터는 분산데이터베이스에 복제분산을 적용
> 2. 거의 실시간 업무적인 특성을 가지고 있을 때 분산데이터베이스를 사용하여 구성할 수 있다
> 3. 백업 사이트를 구성할 때 간단하게 분산기능을 적용하여 구성할 수 있다.
>